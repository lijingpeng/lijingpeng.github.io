<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Frank</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="计算机 网络 互联网">
<meta property="og:type" content="website">
<meta property="og:title" content="Frank">
<meta property="og:url" content="http://www.notehub.cn/page/7/index.html">
<meta property="og:site_name" content="Frank">
<meta property="og:description" content="计算机 网络 互联网">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Frank">
<meta name="twitter:description" content="计算机 网络 互联网">
  
  
    <link rel="icon" href="favicon.png">
  
  <link href='//fonts.css.network/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
  <link href="//fonts.css.network/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  

  
</head>

<body>
  <div id="container">
    <header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="/" id="logo"><i class="logo" style="background-image: url(/css/images/logo.jpg)"></i><span class="site-title">Frank</span></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/.">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/tags">Tags</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      
        <nav id="sub-nav">
          <div class="profile" id="profile-nav">
            <a id="profile-anchor" href="javascript:;"><img class="avatar" src="/css/images/logo.png"><i class="fa fa-caret-down"></i></a>
          </div>
        </nav>
      
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="sitesearch" value="http://www.notehub.cn"></form>
      </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tr>
        
          <td><a class="main-nav-link" href="/.">Home</a></td>
        
          <td><a class="main-nav-link" href="/archives">Archives</a></td>
        
          <td><a class="main-nav-link" href="/categories">Categories</a></td>
        
          <td><a class="main-nav-link" href="/tags">Tags</a></td>
        
          <td><a class="main-nav-link" href="/about">About</a></td>
        
        <td>
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="http://www.notehub.cn"></form>
        </td>
      </tr>
    </table>
  </div>
</header>

    <div class="outer">
      
        <aside id="profile">
  <div class="inner profile-inner">
    <div class="base-info profile-block">
      <img id="avatar" src="/css/images/logo.png">
      <h2 id="name">Li Jingpeng</h2>
      <!-- <h3 id="title">undefined</h3> -->
      <span id="location"><i class="fa fa-map-marker"></i>Hangzhou, China</span>
      <a id="follow" href="Https://weibo.com/329299516">关注我</a>
    </div>
    <div class="article-info profile-block">
      <div class="article-info-block">
        111
        <span>文章</span>
      </div>
      <div class="article-info-block">
        42
        <span>标签</span>
      </div>
    </div>
    
    <div class="contact-info profile-block">
      <table class="contact-list">
        <tr>
          
          <td><a href="https://github.com/lijingpeng" target="_blank" title="github"><i class="fa fa-github"></i></a></td>
          
          <td><a href="#" target="_blank" title="twitter"><i class="fa fa-twitter"></i></a></td>
          
          <td><a href="#" target="_blank" title="facebook"><i class="fa fa-facebook"></i></a></td>
          
          <td><a href="/me@lijingpeng.org" target="_blank" title="email"><i class="fa fa-email"></i></a></td>
          
          <td><a href="/atom.xml" target="_blank" title="rss"><i class="fa fa-rss"></i></a></td>
          
        </tr>
      </table>
    </div>
    
    
  </div>
</aside>

      
      <section id="main">
      <article id="post-dev/python/python_mysql_page" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/18/dev/python/python_mysql_page/">python mysql 分页程序</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2016/03/18/dev/python/python_mysql_page/">
      <time datetime="2016-03-18T04:10:56.000Z" itemprop="datePublished">2016-03-18</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/dev/">dev</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <pre><code class="python">import MySQLdb
import os

import hashlib
#DB parameter
strHost = &#39;localhost&#39;
strDB = &#39;bigo_db&#39;
strUser = &#39;root&#39;
strPasswd = &#39;&#39;
def seEncode(ustr, encoding=&#39;utf-8&#39;):
    &#39;&#39;&#39;负责把入数据库的字符串，转化成utf-8编码&#39;&#39;&#39;
    if ustr is None:
        return &#39;&#39;
    if isinstance(ustr, unicode):
        return ustr.encode(encoding, &#39;ignore&#39;)
    else:
        return str(ustr)
#connect to DB
def getConnect(db=strDB, host=strHost, user=strUser, passwd=strPasswd, charset=&quot;utf8&quot;):
    return MySQLdb.connect(host=strHost, db=strDB, user=strUser, passwd=strPasswd, charset=&quot;utf8&quot;)
def initClientEncode(conn):
    &#39;&#39;&#39;mysql client encoding=utf8&#39;&#39;&#39;
    curs = conn.cursor()
    curs.execute(&quot;SET NAMES utf8&quot;)
    conn.commit()
    return curs
class MySQLQueryPagination(object):

    def __init__(self,conn,numPerPage = 20):
        self.conn = conn
        self.numPerPage = numPerPage

    def queryForList(self,sql,param = None):
        totalPageNum = self.__calTotalPages(sql,param)
        for pageIndex in range(totalPageNum):
            yield self.__queryEachPage(sql,pageIndex,param)

    def __createPaginaionQuerySql(self,sql,currentPageIndex):
        startIndex = self.__calStartIndex(currentPageIndex)
        qSql  = r&#39;select * from (%s) total_table limit %s,%s&#39; % (sql,startIndex,self.numPerPage)
        return qSql

    def __queryEachPage(self,sql,currentPageIndex,param = None):
        curs = initClientEncode(self.conn) 
        qSql = self.__createPaginaionQuerySql(sql, currentPageIndex)      
        if param is None:
            curs.execute(qSql)
        else:
            curs.execute(qSql,param)

        result = curs.fetchall()
        curs.close()
        return result

    def __calStartIndex(self,currentPageIndex):
        startIndex = currentPageIndex  * self.numPerPage;
        return startIndex;

    def __calTotalRowsNum(self,sql,param = None):
        &#39;&#39;&#39; 计算总行数 &#39;&#39;&#39;
        tSql = r&#39;select count(*) from (%s) total_table&#39; % sql
        curs = initClientEncode(self.conn) 
        if param is None:
            curs.execute(tSql)
        else:
            curs.execute(tSql,param)
        result = curs.fetchone()
        curs.close()
        totalRowsNum = 0
        if result != None:
            totalRowsNum = int(result[0])
        return totalRowsNum

    def __calTotalPages(self,sql,param):
        &#39;&#39;&#39; 计算总页数 &#39;&#39;&#39;
        totalRowsNum = self.__calTotalRowsNum(sql,param)
        totalPages = 0;
        if (totalRowsNum % self.numPerPage) == 0:
            totalPages = totalRowsNum / self.numPerPage;
        else:
            totalPages = (totalRowsNum / self.numPerPage) + 1 
        return totalPages

    def __calLastIndex(self, totalRows, totalPages,currentPageIndex):
        &#39;&#39;&#39;计算结束时候的索引&#39;&#39;&#39;
        lastIndex = 0;
        if totalRows &lt; self.numPerPage:
            lastIndex = totalRows;
        elif ((totalRows % self.numPerPage == 0)
                or (totalRows % self.numPerPage != 0 and currentPageIndex &lt; totalPages)) :
            lastIndex = currentPageIndex * self.numPerPage
        elif (totalRows % self.numPerPage != 0 and currentPageIndex == totalPages): # 最后一页
            lastIndex = totalRows         
        return lastIndex
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.notehub.cn/2016/03/18/dev/python/python_mysql_page/" data-id="ciutsw3jn005jiojhgvs400sq" class="article-share-link">分享到</a>
      
        <a href="http://www.notehub.cn/2016/03/18/dev/python/python_mysql_page/#ds-thread" class="article-comment-link">评论</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-dev/python/python_mysql" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/18/dev/python/python_mysql/">Python MySQLdb</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2016/03/18/dev/python/python_mysql/">
      <time datetime="2016-03-18T02:19:56.000Z" itemprop="datePublished">2016-03-18</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/dev/">dev</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <h2 id="u4EC0_u4E48_u662FMySQLdb_3F"><a href="#u4EC0_u4E48_u662FMySQLdb_3F" class="headerlink" title="什么是MySQLdb?"></a>什么是MySQLdb?</h2><hr>
<p>MySQLdb 是用于Python链接Mysql数据库的接口，它实现了 Python 数据库 API 规范 V2.0，基于 MySQL C API 上建立的。</p>
<h2 id="u5982_u4F55_u5B89_u88C5MySQLdb_3F"><a href="#u5982_u4F55_u5B89_u88C5MySQLdb_3F" class="headerlink" title="如何安装MySQLdb?"></a>如何安装MySQLdb?</h2><p>为了用DB-API编写MySQL脚本，必须确保已经安装了MySQL。复制以下代码，并执行：</p>
<pre><code class="python">#!/usr/bin/python
# -*- coding: UTF-8 -*-

import MySQLdb
</code></pre>
<p>如果执行后的输出结果如下所示，意味着你没有安装 MySQLdb 模块：</p>
<pre><code class="python">Traceback (most recent call last):
  File &quot;test.py&quot;, line 3, in &lt;module&gt;
    import MySQLdb
ImportError: No module named MySQLdb
</code></pre>
<p>安装MySQLdb，请访问 <a href="http://sourceforge.net/projects/mysql-python" target="_blank" rel="external">http://sourceforge.net/projects/mysql-python</a> ，(Linux平台可以访问：<a href="https://pypi.python.org/pypi/MySQL-python)从这里可选择适合您的平台的安装包，分为预编译的二进制文件和源代码安装包。" target="_blank" rel="external">https://pypi.python.org/pypi/MySQL-python)从这里可选择适合您的平台的安装包，分为预编译的二进制文件和源代码安装包。</a><br>如果您选择二进制文件发行版本的话，安装过程基本安装提示即可完成。如果从源代码进行安装的话，则需要切换到MySQLdb发行版本的顶级目录，并键入下列命令:</p>
<pre><code class="bash">$ gunzip MySQL-python-1.2.2.tar.gz
$ tar -xvf MySQL-python-1.2.2.tar
$ cd MySQL-python-1.2.2
$ python setup.py build
$ python setup.py install
</code></pre>
<p>注意：请确保您有root权限来安装上述模块。</p>
<h2 id="u6570_u636E_u5E93_u8FDE_u63A5"><a href="#u6570_u636E_u5E93_u8FDE_u63A5" class="headerlink" title="数据库连接"></a>数据库连接</h2><hr>
<p>连接数据库前，请先确认以下事项：</p>
<ul>
<li>您已经创建了数据库 TESTDB.</li>
<li>在TESTDB数据库中您已经创建了表 EMPLOYEE</li>
<li>EMPLOYEE表字段为 FIRST_NAME, LAST_NAME, AGE, SEX 和 INCOME。</li>
<li>连接数据库TESTDB使用的用户名为 “testuser” ，密码为 “test123”,你可以可以自己设定或者直接使用root用户名及其密码，Mysql数据库用户授权请使用Grant命令。</li>
<li>在你的机子上已经安装了 Python MySQLdb 模块。</li>
<li>如果您对sql语句不熟悉，可以访问我们的 SQL基础教程</li>
</ul>
<h3 id="u5B9E_u4F8B_uFF1A"><a href="#u5B9E_u4F8B_uFF1A" class="headerlink" title="实例："></a>实例：</h3><p>以下实例链接Mysql的TESTDB数据库：</p>
<pre><code class="python">#!/usr/bin/python
# -*- coding: UTF-8 -*-

import MySQLdb

# 打开数据库连接
db = MySQLdb.connect(&quot;localhost&quot;,&quot;testuser&quot;,&quot;test123&quot;,&quot;TESTDB&quot; )

# 使用cursor()方法获取操作游标 
cursor = db.cursor()

# 使用execute方法执行SQL语句
cursor.execute(&quot;SELECT VERSION()&quot;)

# 使用 fetchone() 方法获取一条数据库。
data = cursor.fetchone()

print &quot;Database version : %s &quot; % data

# 关闭数据库连接
db.close()
</code></pre>
<p>执行以上脚本输出结果如下：</p>
<pre><code>Database version : 5.0.45
</code></pre><h2 id="u521B_u5EFA_u6570_u636E_u5E93_u8868"><a href="#u521B_u5EFA_u6570_u636E_u5E93_u8868" class="headerlink" title="创建数据库表"></a>创建数据库表</h2><hr>
<p>如果数据库连接存在我们可以使用execute()方法来为数据库创建表，如下所示创建表EMPLOYEE：</p>
<pre><code class="python">#!/usr/bin/python
# -*- coding: UTF-8 -*-

import MySQLdb

# 打开数据库连接
db = MySQLdb.connect(&quot;localhost&quot;,&quot;testuser&quot;,&quot;test123&quot;,&quot;TESTDB&quot; )

# 使用cursor()方法获取操作游标 
cursor = db.cursor()

# 如果数据表已经存在使用 execute() 方法删除表。
cursor.execute(&quot;DROP TABLE IF EXISTS EMPLOYEE&quot;)

# 创建数据表SQL语句
sql = &quot;&quot;&quot;CREATE TABLE EMPLOYEE (
         FIRST_NAME  CHAR(20) NOT NULL,
         LAST_NAME  CHAR(20),
         AGE INT,  
         SEX CHAR(1),
         INCOME FLOAT )&quot;&quot;&quot;

cursor.execute(sql)

# 关闭数据库连接
db.close()
</code></pre>
<h2 id="u6570_u636E_u5E93_u63D2_u5165_u64CD_u4F5C"><a href="#u6570_u636E_u5E93_u63D2_u5165_u64CD_u4F5C" class="headerlink" title="数据库插入操作"></a>数据库插入操作</h2><hr>
<p>以下实例使用执行 SQL INSERT 语句向表 EMPLOYEE 插入记录：</p>
<pre><code class="python">#!/usr/bin/python
# -*- coding: UTF-8 -*-

import MySQLdb

# 打开数据库连接
db = MySQLdb.connect(&quot;localhost&quot;,&quot;testuser&quot;,&quot;test123&quot;,&quot;TESTDB&quot; )

# 使用cursor()方法获取操作游标 
cursor = db.cursor()

# SQL 插入语句
sql = &quot;&quot;&quot;INSERT INTO EMPLOYEE(FIRST_NAME,
         LAST_NAME, AGE, SEX, INCOME)
         VALUES (&#39;Mac&#39;, &#39;Mohan&#39;, 20, &#39;M&#39;, 2000)&quot;&quot;&quot;
try:
   # 执行sql语句
   cursor.execute(sql)
   # 提交到数据库执行
   db.commit()
except:
   # Rollback in case there is any error
   db.rollback()

# 关闭数据库连接
db.close()
</code></pre>
<p>以上例子也可以写成如下形式：</p>
<pre><code class="python">#!/usr/bin/python
# -*- coding: UTF-8 -*-

import MySQLdb

# 打开数据库连接
db = MySQLdb.connect(&quot;localhost&quot;,&quot;testuser&quot;,&quot;test123&quot;,&quot;TESTDB&quot; )

# 使用cursor()方法获取操作游标 
cursor = db.cursor()

# SQL 插入语句
sql = &quot;INSERT INTO EMPLOYEE(FIRST_NAME, \
       LAST_NAME, AGE, SEX, INCOME) \
       VALUES (&#39;%s&#39;, &#39;%s&#39;, &#39;%d&#39;, &#39;%c&#39;, &#39;%d&#39; )&quot; % \
       (&#39;Mac&#39;, &#39;Mohan&#39;, 20, &#39;M&#39;, 2000)
try:
   # 执行sql语句
   cursor.execute(sql)
   # 提交到数据库执行
   db.commit()
except:
   # 发生错误时回滚
   db.rollback()

# 关闭数据库连接
db.close()
</code></pre>
<p>实例：<br>以下代码使用变量向SQL语句中传递参数:</p>
<pre><code class="python">..................................
user_id = &quot;test123&quot;
password = &quot;password&quot;

con.execute(&#39;insert into Login values(&quot;%s&quot;, &quot;%s&quot;)&#39; % \
             (user_id, password))
..................................
</code></pre>
<h2 id="u6570_u636E_u5E93_u67E5_u8BE2_u64CD_u4F5C"><a href="#u6570_u636E_u5E93_u67E5_u8BE2_u64CD_u4F5C" class="headerlink" title="数据库查询操作"></a>数据库查询操作</h2><hr>
<p>Python查询Mysql使用 fetchone() 方法获取单条数据, 使用fetchall() 方法获取多条数据。</p>
<ul>
<li>fetchone(): 该方法获取下一个查询结果集。结果集是一个对象</li>
<li>fetchall():接收全部的返回结果行.</li>
<li>rowcount: 这是一个只读属性，并返回执行execute()方法后影响的行数。</li>
</ul>
<h3 id="u5B9E_u4F8B_uFF1A-1"><a href="#u5B9E_u4F8B_uFF1A-1" class="headerlink" title="实例："></a>实例：</h3><p>查询EMPLOYEE表中salary（工资）字段大于1000的所有数据：</p>
<pre><code class="python">#!/usr/bin/python
# -*- coding: UTF-8 -*-

import MySQLdb

# 打开数据库连接
db = MySQLdb.connect(&quot;localhost&quot;,&quot;testuser&quot;,&quot;test123&quot;,&quot;TESTDB&quot; )

# 使用cursor()方法获取操作游标 
cursor = db.cursor()

# SQL 查询语句
sql = &quot;SELECT * FROM EMPLOYEE \
       WHERE INCOME &gt; &#39;%d&#39;&quot; % (1000)
try:
   # 执行SQL语句
   cursor.execute(sql)
   # 获取所有记录列表
   results = cursor.fetchall()
   for row in results:
      fname = row[0]
      lname = row[1]
      age = row[2]
      sex = row[3]
      income = row[4]
      # 打印结果
      print &quot;fname=%s,lname=%s,age=%d,sex=%s,income=%d&quot; % \
             (fname, lname, age, sex, income )
except:
   print &quot;Error: unable to fecth data&quot;

# 关闭数据库连接
db.close()
</code></pre>
<p>以上脚本执行结果如下：</p>
<pre><code>fname=Mac, lname=Mohan, age=20, sex=M, income=2000
</code></pre><h2 id="u6570_u636E_u5E93_u66F4_u65B0_u64CD_u4F5C"><a href="#u6570_u636E_u5E93_u66F4_u65B0_u64CD_u4F5C" class="headerlink" title="数据库更新操作"></a>数据库更新操作</h2><hr>
<p>更新操作用于更新数据表的的数据，以下实例将 TESTDB表中的 SEX 字段全部修改为 ‘M’，AGE 字段递增1：</p>
<pre><code class="python">#!/usr/bin/python
# -*- coding: UTF-8 -*-

import MySQLdb

# 打开数据库连接
db = MySQLdb.connect(&quot;localhost&quot;,&quot;testuser&quot;,&quot;test123&quot;,&quot;TESTDB&quot; )

# 使用cursor()方法获取操作游标 
cursor = db.cursor()

# SQL 更新语句
sql = &quot;UPDATE EMPLOYEE SET AGE = AGE + 1
                          WHERE SEX = &#39;%c&#39;&quot; % (&#39;M&#39;)
try:
   # 执行SQL语句
   cursor.execute(sql)
   # 提交到数据库执行
   db.commit()
except:
   # 发生错误时回滚
   db.rollback()

# 关闭数据库连接
db.close()
</code></pre>
<h2 id="u6267_u884C_u4E8B_u52A1"><a href="#u6267_u884C_u4E8B_u52A1" class="headerlink" title="执行事务"></a>执行事务</h2><hr>
<p>事务机制可以确保数据一致性。<br>事务应该具有4个属性：原子性、一致性、隔离性、持久性。这四个属性通常称为ACID特性。</p>
<ul>
<li>原子性（atomicity）。一个事务是一个不可分割的工作单位，事务中包括的诸操作要么都做，要么都不做。</li>
<li>一致性（consistency）。事务必须是使数据库从一个一致性状态变到另一个一致性状态。一致性与原子性是密切相关的。</li>
<li>隔离性（isolation）。一个事务的执行不能被其他事务干扰。即一个事务内部的操作及使用的数据对并发的其他事务是隔离的，并发执行的各个事务之间不能互相干扰。</li>
<li>持久性（durability）。持续性也称永久性（permanence），指一个事务一旦提交，它对数据库中数据的改变就应该是永久性的。接下来的其他操作或故障不应该对其有任何影响。<br>Python DB API 2.0 的事务提供了两个方法 commit 或 rollback。<h3 id="u5B9E_u4F8B_uFF1A-2"><a href="#u5B9E_u4F8B_uFF1A-2" class="headerlink" title="实例："></a>实例：</h3><pre><code class="python"># SQL删除记录语句
sql = &quot;DELETE FROM EMPLOYEE WHERE AGE &gt; &#39;%d&#39;&quot; % (20)
try:
 # 执行SQL语句
 cursor.execute(sql)
 # 向数据库提交
 db.commit()
except:
 # 发生错误时回滚
 db.rollback()
</code></pre>
对于支持事务的数据库， 在Python数据库编程中，当游标建立之时，就自动开始了一个隐形的数据库事务。<br>commit()方法游标的所有更新操作，rollback（）方法回滚当前游标的所有操作。每一个方法都开始了一个新的事务。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.notehub.cn/2016/03/18/dev/python/python_mysql/" data-id="ciutsw3jp005piojhqxehpihc" class="article-share-link">分享到</a>
      
        <a href="http://www.notehub.cn/2016/03/18/dev/python/python_mysql/#ds-thread" class="article-comment-link">评论</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Mysql/">Mysql</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-dev/python/python_logging" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/10/dev/python/python_logging/">Python日志输出——logging模块</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2016/03/10/dev/python/python_logging/">
      <time datetime="2016-03-10T02:19:56.000Z" itemprop="datePublished">2016-03-10</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/dev/">dev</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <h3 id="1-_logging_u4ECB_u7ECD"><a href="#1-_logging_u4ECB_u7ECD" class="headerlink" title="1. logging介绍"></a>1. logging介绍</h3><p>Python的logging模块提供了通用的日志系统，可以方便第三方模块或者是应用使用。这个模块提供不同的日志级别，并可以采用不同的方式记录日志，比如文件，HTTP GET/POST，SMTP，Socket等，甚至可以自己实现具体的日志记录方式。<br>logging模块与log4j的机制是一样的，只是具体的实现细节不同。模块提供logger，handler，filter，formatter。<br>logger：提供日志接口，供应用代码使用。logger最长用的操作有两类：配置和发送日志消息。可以通过logging.getLogger(name)获取logger对象，如果不指定name则返回root对象，多次使用相同的name调用getLogger方法返回同一个logger对象。<br>handler：将日志记录（log record）发送到合适的目的地（destination），比如文件，socket等。一个logger对象可以通过addHandler方法添加0到多个handler，每个handler又可以定义不同日志级别，以实现日志分级过滤显示。<br>filter：提供一种优雅的方式决定一个日志记录是否发送到handler。<br>formatter：指定日志记录输出的具体格式。formatter的构造方法需要两个参数：消息的格式字符串和日期字符串，这两个参数都是可选的。<br>与log4j类似，logger，handler和日志消息的调用可以有具体的日志级别（Level），只有在日志消息的级别大于logger和handler的级别。</p>
<pre><code class="python">import logging  
import logging.handlers  

LOG_FILE = &#39;tst.log&#39;  

handler = logging.handlers.RotatingFileHandler(LOG_FILE, maxBytes = 1024*1024, backupCount = 5) # 实例化handler   
fmt = &#39;%(asctime)s - %(filename)s:%(lineno)s - %(name)s - %(message)s&#39;  

formatter = logging.Formatter(fmt)   # 实例化formatter  
handler.setFormatter(formatter)      # 为handler添加formatter  

logger = logging.getLogger(&#39;tst&#39;)    # 获取名为tst的logger  
logger.addHandler(handler)           # 为logger添加handler  
logger.setLevel(logging.DEBUG)  

logger.info(&#39;first info message&#39;)  
logger.debug(&#39;first debug message&#39;)
</code></pre>
<p>输出：</p>
<pre><code>2012-03-04 23:21:59,682 - log_test.py:16 - tst - first info message   
2012-03-04 23:21:59,682 - log_test.py:17 - tst - first debug message
</code></pre><h3 id="2-_logging_u7684_u914D_u7F6E"><a href="#2-_logging_u7684_u914D_u7F6E" class="headerlink" title="2. logging的配置"></a>2. logging的配置</h3><p>logging的配置可以采用python代码或是配置文件。python代码的方式就是在应用的主模块中，构建handler，handler，formatter等对象。而配置文件的方式是将这些对象的依赖关系分离出来放在文件中。比如前面的例子就类似于python代码的配置方式。这里看一下采用配置文件的方式。</p>
<pre><code class="python">import logging  
import logging.config  

logging.config.fileConfig(&quot;logging.conf&quot;)    # 采用配置文件  

# create logger  
logger = logging.getLogger(&quot;simpleExample&quot;)  

# &quot;application&quot; code  
logger.debug(&quot;debug message&quot;)  
logger.info(&quot;info message&quot;)  
logger.warn(&quot;warn message&quot;)  
logger.error(&quot;error message&quot;)  
logger.critical(&quot;critical message&quot;)
</code></pre>
<p>loggin.conf采用了模式匹配的方式进行配置，正则表达式是r’^[(.*)]$’，从而匹配出所有的组件。对于同一个组件具有多个实例的情况使用逗号‘，’进行分隔。对于一个实例的配置采用componentName_instanceName配置块。使用这种方式还是蛮简单的。</p>
<pre><code>[loggers]  
keys=root,simpleExample  

[handlers]  
keys=consoleHandler  

[formatters]  
keys=simpleFormatter  

[logger_root]  
level=DEBUG  
handlers=consoleHandler  

[logger_simpleExample]  
level=DEBUG  
handlers=consoleHandler  
qualname=simpleExample  
propagate=0  

[handler_consoleHandler]  
class=StreamHandler  
level=DEBUG  
formatter=simpleFormatter  
args=(sys.stdout,)  

[formatter_simpleFormatter]  
format=%(asctime)s - %(name)s - %(levelname)s - %(message)s  
datefmt=
</code></pre><p>在指定handler的配置时，class是具体的handler类的类名，可以是相对logging模块或是全路径类名，比如需要RotatingFileHandler，则class的值可以为：RotatingFileHandler或者logging.handlers.RotatingFileHandler。args就是要传给这个类的构造方法的参数，就是一个元组，按照构造方法声明的参数的顺序。</p>
<p>输出：</p>
<pre><code>2012-03-06 00:09:35,713 - simpleExample - DEBUG - debug message  
2012-03-06 00:09:35,713 - simpleExample - INFO - info message  
2012-03-06 00:09:35,714 - simpleExample - WARNING - warn message  
2012-03-06 00:09:35,714 - simpleExample - ERROR - error message  
2012-03-06 00:09:35,714 - simpleExample - CRITICAL - critical message
</code></pre><p>这里还要明确一点，logger对象是有继承关系的，比如名为a.b和a.c的logger都是名为a的子logger，并且所有的logger对象都继承于root。如果子对象没有添加handler等一些配置，会从父对象那继承。这样就可以通过这种继承关系来复用配置。</p>
<h3 id="3-__u591A_u6A21_u5757_u4F7F_u7528logging"><a href="#3-__u591A_u6A21_u5757_u4F7F_u7528logging" class="headerlink" title="3. 多模块使用logging"></a>3. 多模块使用logging</h3><p>logging模块保证在同一个python解释器内，多次调用logging.getLogger(‘log_name’)都会返回同一个logger实例，即使是在多个模块的情况下。所以典型的多模块场景下使用logging的方式是在main模块中配置logging，这个配置会作用于多个的子模块，然后在其他模块中直接通过getLogger获取Logger对象即可。</p>
<p>这里使用上面配置文件：</p>
<pre><code>[loggers]  
keys=root,main  

[handlers]  
keys=consoleHandler,fileHandler  

[formatters]  
keys=fmt  

[logger_root]  
level=DEBUG  
handlers=consoleHandler  

[logger_main]  
level=DEBUG  
qualname=main  
handlers=fileHandler  

[handler_consoleHandler]  
class=StreamHandler  
level=DEBUG  
formatter=fmt  
args=(sys.stdout,)  

[handler_fileHandler]  
class=logging.handlers.RotatingFileHandler  
level=DEBUG  
formatter=fmt  
args=(&#39;tst.log&#39;,&#39;a&#39;,20000,5,)  

[formatter_fmt]  
format=%(asctime)s - %(name)s - %(levelname)s - %(message)s  
datefmt=
</code></pre><p>主模块main.py：</p>
<pre><code class="python">import logging  
import logging.config  

logging.config.fileConfig(&#39;logging.conf&#39;)  
root_logger = logging.getLogger(&#39;root&#39;)  
root_logger.debug(&#39;test root logger...&#39;)  

logger = logging.getLogger(&#39;main&#39;)  
logger.info(&#39;test main logger&#39;)  
logger.info(&#39;start import module \&#39;mod\&#39;...&#39;)  
import mod  

logger.debug(&#39;let\&#39;s test mod.testLogger()&#39;)  
mod.testLogger()  

root_logger.info(&#39;finish test...&#39;)
</code></pre>
<p>子模块mod.py：</p>
<pre><code class="python">import logging  
import submod  

logger = logging.getLogger(&#39;main.mod&#39;)  
logger.info(&#39;logger of mod say something...&#39;)  

def testLogger():  
    logger.debug(&#39;this is mod.testLogger...&#39;)  
    submod.tst()
</code></pre>
<p>子子模块submod.py：</p>
<pre><code class="python">import logging  

logger = logging.getLogger(&#39;main.mod.submod&#39;)  
logger.info(&#39;logger of submod say something...&#39;)  

def tst():  
    logger.info(&#39;this is submod.tst()...&#39;)
</code></pre>
<p>然后运行python main.py，控制台输出：</p>
<pre><code>2012-03-09 18:22:22,793 - root - DEBUG - test root logger...  
2012-03-09 18:22:22,793 - main - INFO - test main logger  
2012-03-09 18:22:22,809 - main - INFO - start import module &#39;mod&#39;...  
2012-03-09 18:22:22,809 - main.mod.submod - INFO - logger of submod say something...  
2012-03-09 18:22:22,809 - main.mod - INFO - logger say something...  
2012-03-09 18:22:22,809 - main - DEBUG - let&#39;s test mod.testLogger()  
2012-03-09 18:22:22,825 - main.mod - DEBUG - this is mod.testLogger...  
2012-03-09 18:22:22,825 - main.mod.submod - INFO - this is submod.tst()...  
2012-03-09 18:22:22,841 - root - INFO - finish test...
</code></pre><p>可以看出，和预想的一样，然后在看一下tst.log，logger配置中的输出的目的地：</p>
<pre><code>2012-03-09 18:22:22,793 - main - INFO - test main logger  
2012-03-09 18:22:22,809 - main - INFO - start import module &#39;mod&#39;...  
2012-03-09 18:22:22,809 - main.mod.submod - INFO - logger of submod say something...  
2012-03-09 18:22:22,809 - main.mod - INFO - logger say something...  
2012-03-09 18:22:22,809 - main - DEBUG - let&#39;s test mod.testLogger()  
2012-03-09 18:22:22,825 - main.mod - DEBUG - this is mod.testLogger...  
2012-03-09 18:22:22,825 - main.mod.submod - INFO - this is submod.tst()...
</code></pre><p>tst.log中没有root logger输出的信息，因为logging.conf中配置了只有main logger及其子logger使用RotatingFileHandler，而root logger是输出到标准输出。</p>
<p>FROM： <a href="http://blog.csdn.net/chosen0ne/article/details/7319306" target="_blank" rel="external">http://blog.csdn.net/chosen0ne/article/details/7319306</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.notehub.cn/2016/03/10/dev/python/python_logging/" data-id="ciutsw3jo005miojhe79fv7xz" class="article-share-link">分享到</a>
      
        <a href="http://www.notehub.cn/2016/03/10/dev/python/python_logging/#ds-thread" class="article-comment-link">评论</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-algo/ml/18" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/01/algo/ml/18/">18大经典数据挖掘算法小结</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2016/03/01/algo/ml/18/">
      <time datetime="2016-02-29T16:00:00.000Z" itemprop="datePublished">2016-03-01</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/machine-learning/">machine learning</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>本文所有涉及到的数据挖掘代码的都放在了github上。<br>地址链接: <a href="https://github.com/linyiqun/DataMiningAlgorithm" target="_blank" rel="external">https://github.com/linyiqun/DataMiningAlgorithm</a><br>大概花了将近2个月的时间，自己把18大数据挖掘的经典算法进行了学习并且进行了代码实现，涉及到了决策分类，聚类，链接挖掘，关联挖掘，模式挖掘等等方面。也算是对数据挖掘领域的小小入门了吧。</p>
<p>1.C4.5算法。C4.5算法与ID3算法一样，都是数学分类算法，C4.5算法是ID3算法的一个改进。ID3算法采用信息增益进行决策判断，而C4.5采用的是增益率。<br>详细介绍链接：<a href="http://blog.csdn.net/androidlushangderen/article/details/42395865" target="_blank" rel="external">http://blog.csdn.net/androidlushangderen/article/details/42395865</a><br>2.CART算法。CART算法的全称是分类回归树算法，他是一个二元分类，采用的是类似于熵的基尼指数作为分类决策，形成决策树后之后还要进行剪枝，我自己在实现整个算法的时候采用的是代价复杂度算法，<br>详细介绍链接：<a href="http://blog.csdn.net/androidlushangderen/article/details/42558235" target="_blank" rel="external">http://blog.csdn.net/androidlushangderen/article/details/42558235</a><br>3.KNN(K最近邻)算法。给定一些已经训练好的数据，输入一个新的测试数据点，计算包含于此测试数据点的最近的点的分类情况，哪个分类的类型占多数，则此测试点的分类与此相同，所以在这里,有的时候可以复制不同的分类点不同的权重。近的点的权重大点，远的点自然就小点。<br>详细介绍链接：<a href="http://blog.csdn.net/androidlushangderen/article/details/42613011" target="_blank" rel="external">http://blog.csdn.net/androidlushangderen/article/details/42613011</a><br>4.Naive Bayes(朴素贝叶斯)算法。朴素贝叶斯算法是贝叶斯算法里面一种比较简单的分类算法，用到了一个比较重要的贝叶斯定理，用一句简单的话概括就是条件概率的相互转换推导。<br>详细介绍链接：<a href="http://blog.csdn.net/androidlushangderen/article/details/42680161" target="_blank" rel="external">http://blog.csdn.net/androidlushangderen/article/details/42680161</a><br>5.SVM(支持向量机)算法。支持向量机算法是一种对线性和非线性数据进行分类的方法，非线性数据进行分类的时候可以通过核函数转为线性的情况再处理。其中的一个关键的步骤是搜索最大边缘超平面。<br>详细介绍链接：<a href="http://blog.csdn.net/androidlushangderen/article/details/42780439" target="_blank" rel="external">http://blog.csdn.net/androidlushangderen/article/details/42780439</a><br>6.EM(期望最大化)算法。期望最大化算法，可以拆分为2个算法，1个E-Step期望化步骤,和1个M-Step最大化步骤。他是一种算法框架，在每次计算结果之后，逼近统计模型参数的最大似然或最大后验估计。<br>详细介绍链接：<a href="http://blog.csdn.net/androidlushangderen/article/details/42921789" target="_blank" rel="external">http://blog.csdn.net/androidlushangderen/article/details/42921789</a><br>7.Apriori算法。Apriori算法是关联规则挖掘算法，通过连接和剪枝运算挖掘出频繁项集，然后根据频繁项集得到关联规则，关联规则的导出需要满足最小置信度的要求。<br>详细介绍链接：<a href="http://blog.csdn.net/androidlushangderen/article/details/43059211" target="_blank" rel="external">http://blog.csdn.net/androidlushangderen/article/details/43059211</a><br>8.FP-Tree(频繁模式树)算法。这个算法也有被称为FP-growth算法，这个算法克服了Apriori算法的产生过多侯选集的缺点，通过递归的产生频度模式树，然后对树进行挖掘，后面的过程与Apriori算法一致。<br>详细介绍链接：<a href="http://blog.csdn.net/androidlushangderen/article/details/43234309" target="_blank" rel="external">http://blog.csdn.net/androidlushangderen/article/details/43234309</a><br>9.PageRank(网页重要性/排名)算法。PageRank算法最早产生于Google,核心思想是通过网页的入链数作为一个网页好快的判定标准，如果1个网页内部包含了多个指向外部的链接，则PR值将会被均分，PageRank算法也会遭到Link Span攻击。<br>详细介绍链接：<a href="http://blog.csdn.net/androidlushangderen/article/details/43311943" target="_blank" rel="external">http://blog.csdn.net/androidlushangderen/article/details/43311943</a><br>10.HITS算法。HITS算法是另外一个链接算法，部分原理与PageRank算法是比较相似的，HITS算法引入了权威值和中心值的概念，HITS算法是受用户查询条件影响的，他一般用于小规模的数据链接分析，也更容易遭受到攻击。<br>详细介绍链接：<a href="http://blog.csdn.net/androidlushangderen/article/details/43311943" target="_blank" rel="external">http://blog.csdn.net/androidlushangderen/article/details/43311943</a><br>11.K-Means(K均值)算法。K-Means算法是聚类算法，k在在这里指的是分类的类型数，所以在开始设定的时候非常关键，算法的原理是首先假定k个分类点，然后根据欧式距离计算分类，然后去同分类的均值作为新的聚簇中心，循环操作直到收敛。<br>详细介绍链接：<a href="http://blog.csdn.net/androidlushangderen/article/details/43373159" target="_blank" rel="external">http://blog.csdn.net/androidlushangderen/article/details/43373159</a><br>12.BIRCH算法。BIRCH算法利用构建CF聚类特征树作为算法的核心，通过树的形式，BIRCH算法扫描数据库，在内存中建立一棵初始的CF-树，可以看做数据的多层压缩。<br>详细介绍链接：<a href="http://blog.csdn.net/androidlushangderen/article/details/43532111" target="_blank" rel="external">http://blog.csdn.net/androidlushangderen/article/details/43532111</a><br>13.AdaBoost算法。AdaBoost算法是一种提升算法，通过对数据的多次训练得到多个互补的分类器，然后组合多个分类器，构成一个更加准确的分类器。<br>详细介绍链接：<a href="http://blog.csdn.net/androidlushangderen/article/details/43635115" target="_blank" rel="external">http://blog.csdn.net/androidlushangderen/article/details/43635115</a><br>14.GSP算法。GSP算法是序列模式挖掘算法。GSP算法也是Apriori类算法，在算法的过程中也会进行连接和剪枝操作，不过在剪枝判断的时候还加上了一些时间上的约束等条件。<br>详细介绍链接：<a href="http://blog.csdn.net/androidlushangderen/article/details/43699083" target="_blank" rel="external">http://blog.csdn.net/androidlushangderen/article/details/43699083</a><br>15.PreFixSpan算法。PreFixSpan算法是另一个序列模式挖掘算法，在算法的过程中不会产生候选集，给定初始前缀模式，不断的通过后缀模式中的元素转到前缀模式中，而不断的递归挖掘下去。<br>详细介绍链接：<a href="http://blog.csdn.net/androidlushangderen/article/details/43766253" target="_blank" rel="external">http://blog.csdn.net/androidlushangderen/article/details/43766253</a><br>16.CBA(基于关联规则分类)算法。CBA算法是一种集成挖掘算法，因为他是建立在关联规则挖掘算法之上的，在已有的关联规则理论前提下，做分类判断，只是在算法的开始时对数据做处理，变成类似于事务的形式。<br>详细介绍链接：<a href="http://blog.csdn.net/androidlushangderen/article/details/43818787" target="_blank" rel="external">http://blog.csdn.net/androidlushangderen/article/details/43818787</a><br>17.RoughSets(粗糙集)算法。粗糙集理论是一个比较新颖的数据挖掘思想。这里使用的是用粗糙集进行属性约简的算法，通过上下近似集的判断删除无效的属性，进行规制的输出。<br>详细介绍链接：<a href="http://blog.csdn.net/androidlushangderen/article/details/43876001" target="_blank" rel="external">http://blog.csdn.net/androidlushangderen/article/details/43876001</a><br>18.gSpan算法。gSpan算法属于图挖掘算法领域。，主要用于频繁子图的挖掘，相较于其他的图算法，子图挖掘算法是他们的一个前提或基础算法。gSpan算法用到了DFS编码，和Edge五元组，最右路径子图扩展等概念，算法比较的抽象和复杂。<br>详细介绍链接：<a href="http://blog.csdn.net/androidlushangderen/article/details/43924273" target="_blank" rel="external">http://blog.csdn.net/androidlushangderen/article/details/43924273</a></p>
<p>来自： <a href="http://blog.csdn.net/androidlushangderen/article/details/43964589" target="_blank" rel="external">http://blog.csdn.net/androidlushangderen/article/details/43964589</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.notehub.cn/2016/03/01/algo/ml/18/" data-id="ciutsw3l0007miojhn592l2mu" class="article-share-link">分享到</a>
      
        <a href="http://www.notehub.cn/2016/03/01/algo/ml/18/#ds-thread" class="article-comment-link">评论</a>
      
      
    </footer>
  </div>
  
</article>



    
      <article id="post-dev/web/fcgi" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/02/24/dev/web/fcgi/">FastCGI 工作原理分析</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2016/02/24/dev/web/fcgi/">
      <time datetime="2016-02-24T05:19:56.000Z" itemprop="datePublished">2016-02-24</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/web/">web</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>相对于 CGI/1.1 规范在 Web 服务器在本地 fork 一个子进程执行 CGI 程序，填充 CGI 预定义的环境变量，放入系统环境变量，把 HTTP body 体的 content 通过标准输入传入子进程，处理完毕之后通过标准输出返回给 Web 服务器。FastCGI 的核心则是取缔传统的 fork-and-execute 方式，减少每次启动的巨大开销（后面以 PHP 为例说明），以常驻的方式来处理请求。<br>FastCGI 工作流程如下：</p>
<pre><code>1. FastCGI 进程管理器自身初始化，启动多个 CGI 解释器进程，并等待来自 Web Server 的连接。
2. Web 服务器与 FastCGI 进程管理器进行 Socket 通信，通过 FastCGI 协议发送 CGI 环境变量和标准输入数据给 CGI 解释器进程。
3. CGI 解释器进程完成处理后将标准输出和错误信息从同一连接返回 Web Server。
4. CGI 解释器进程接着等待并处理来自 Web Server 的下一个连接。
</code></pre><p><img src="/images/other/fcgi.png" alt=""></p>
<p>FastCGI 与传统 CGI 模式的区别之一则是 Web 服务器不是直接执行 CGI 程序了，而是通过 socket 与 FastCGI 响应器（FastCGI 进程管理器）进行交互，Web 服务器需要将 CGI 接口数据封装在遵循 FastCGI 协议包中发送给 FastCGI 响应器程序。正是由于 FastCGI 进程管理器是基于 socket 通信的，所以也是分布式的，Web服务器和CGI响应器服务器分开部署。<br>再啰嗦一句，FastCGI 是一种协议，它是建立在CGI/1.1基础之上的，把CGI/1.1里面的要传递的数据通过FastCGI协议定义的顺序、格式进行传递。</p>
<p>来自： <a href="http://mengkang.net/668.html" target="_blank" rel="external">http://mengkang.net/668.html</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.notehub.cn/2016/02/24/dev/web/fcgi/" data-id="ciutsw3jq005siojh9x3qqptx" class="article-share-link">分享到</a>
      
        <a href="http://www.notehub.cn/2016/02/24/dev/web/fcgi/#ds-thread" class="article-comment-link">评论</a>
      
      
    </footer>
  </div>
  
</article>



    
      <nav id="page-nav">
        <a class="extend prev" rel="prev" href="/page/6/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/23/">23</a><a class="extend next" rel="next" href="/page/8/">下一页 &raquo;</a>
      </nav>
    </section>
      
        <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul id="recent-post" class="">
        
          <li>
            
            <div class="item-thumbnail">
              <a href="/2016/10/28/dev/docker/docker_neural_style/" class="thumbnail">
  
    <span class="thumbnail-image thumbnail-none"></span>
  
</a>
            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/dev/">dev</a></p>
              <p class="item-title"><a href="/2016/10/28/dev/docker/docker_neural_style/" class="title">Docker快速搭建neural style环境</a></p>
              <p class="item-date"><time datetime="2016-10-28T02:19:56.000Z" itemprop="datePublished">2016-10-28</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              <a href="/2016/10/26/dev/soft_source/" class="thumbnail">
  
    <span class="thumbnail-image thumbnail-none"></span>
  
</a>
            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/dev/">dev</a></p>
              <p class="item-title"><a href="/2016/10/26/dev/soft_source/" class="title">常用的软件源</a></p>
              <p class="item-date"><time datetime="2016-10-26T08:19:56.000Z" itemprop="datePublished">2016-10-26</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              <a href="/2016/10/15/algo/ml/OnebyOne_Convolution/" class="thumbnail">
  
    <span style="background-image:url(/images/dl/full_padding_no_strides_transposed.gif
)" alt="One by One [ 1 x 1 ] Convolution - counter-intuitively useful" class="thumbnail-image"></span>
  
</a>
            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/machine-learning/">machine learning</a></p>
              <p class="item-title"><a href="/2016/10/15/algo/ml/OnebyOne_Convolution/" class="title">One by One [ 1 x 1 ] Convolution - counter-intuitively useful</a></p>
              <p class="item-date"><time datetime="2016-10-14T16:00:00.000Z" itemprop="datePublished">2016-10-15</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              <a href="/2016/10/11/dev/node_essentail/" class="thumbnail">
  
    <span class="thumbnail-image thumbnail-none"></span>
  
</a>
            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/dev/">dev</a></p>
              <p class="item-title"><a href="/2016/10/11/dev/node_essentail/" class="title">Node/npm安装基本问题</a></p>
              <p class="item-date"><time datetime="2016-10-11T12:19:56.000Z" itemprop="datePublished">2016-10-11</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              <a href="/2016/10/10/dev/esop/" class="thumbnail">
  
    <span class="thumbnail-image thumbnail-none"></span>
  
</a>
            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/dev/">dev</a></p>
              <p class="item-title"><a href="/2016/10/10/dev/esop/" class="title">Elasticsearch-索引优化</a></p>
              <p class="item-date"><time datetime="2016-10-10T02:19:56.000Z" itemprop="datePublished">2016-10-10</time></p>
            </div>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Hadoop/">Hadoop</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hash/">Hash</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hive/">Hive</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL/">MySQL</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Photo/">Photo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SQL/">SQL</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Zabbix/">Zabbix</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ads/">ads</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/c/">c++</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/dev/">dev</a><span class="category-list-count">35</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/github/">github</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/internet/">internet</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/kaggle/">kaggle</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/machine-learning/">machine learning</a><span class="category-list-count">24</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/sklearn/">sklearn</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/system/">system</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/travel/">travel</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a><span class="category-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Apache/" style="font-size: 10px;">Apache</a> <a href="/tags/Bandits/" style="font-size: 12.5px;">Bandits</a> <a href="/tags/Elasticsearch-docker/" style="font-size: 10px;">Elasticsearch, docker</a> <a href="/tags/FlatBuffers/" style="font-size: 10px;">FlatBuffers</a> <a href="/tags/Google/" style="font-size: 10px;">Google</a> <a href="/tags/Granger-causality/" style="font-size: 10px;">Granger causality</a> <a href="/tags/GridSearchCV/" style="font-size: 10px;">GridSearchCV</a> <a href="/tags/HTTPS/" style="font-size: 10px;">HTTPS</a> <a href="/tags/Jquery/" style="font-size: 10px;">Jquery</a> <a href="/tags/MapReduce/" style="font-size: 10px;">MapReduce</a> <a href="/tags/Mock/" style="font-size: 10px;">Mock</a> <a href="/tags/Monument-Vallay/" style="font-size: 10px;">Monument Vallay</a> <a href="/tags/Mysql/" style="font-size: 12.5px;">Mysql</a> <a href="/tags/PPTP-vpn/" style="font-size: 12.5px;">PPTP, vpn</a> <a href="/tags/Photoshop/" style="font-size: 10px;">Photoshop</a> <a href="/tags/Pipeline/" style="font-size: 10px;">Pipeline</a> <a href="/tags/Shadowsocks/" style="font-size: 10px;">Shadowsocks</a> <a href="/tags/ad/" style="font-size: 10px;">ad</a> <a href="/tags/apache/" style="font-size: 10px;">apache</a> <a href="/tags/blade/" style="font-size: 10px;">blade</a> <a href="/tags/crontab/" style="font-size: 10px;">crontab</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/elasticsearch/" style="font-size: 12.5px;">elasticsearch</a> <a href="/tags/font/" style="font-size: 10px;">font</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/go/" style="font-size: 17.5px;">go</a> <a href="/tags/hashmap/" style="font-size: 10px;">hashmap</a> <a href="/tags/kaggle/" style="font-size: 20px;">kaggle</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/linux-ldd-依赖关系/" style="font-size: 10px;">linux, ldd, 依赖关系</a> <a href="/tags/lucene/" style="font-size: 10px;">lucene</a> <a href="/tags/nio/" style="font-size: 10px;">nio</a> <a href="/tags/pagerank/" style="font-size: 10px;">pagerank</a> <a href="/tags/photo/" style="font-size: 10px;">photo</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/swift-llvm/" style="font-size: 10px;">swift, llvm</a> <a href="/tags/前端/" style="font-size: 10px;">前端</a> <a href="/tags/广告/" style="font-size: 12.5px;">广告</a> <a href="/tags/开源，许可/" style="font-size: 10px;">开源，许可</a> <a href="/tags/澳门/" style="font-size: 10px;">澳门</a> <a href="/tags/监控，zabbix/" style="font-size: 10px;">监控，zabbix</a> <a href="/tags/贝叶斯/" style="font-size: 10px;">贝叶斯</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">一月 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">六月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">五月 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">四月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">三月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">二月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">一月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">十二月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">十一月 2014</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">十月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">六月 2014</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">十一月 2013</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
  <div id="toTop" class="fa fa-chevron-up"></div>
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Li Jingpeng<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
  </div>
</footer>
    

<script type="text/javascript">
  var duoshuoQuery = {short_name:"lijingpeng"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>


<script src="//ajax.css.network/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>